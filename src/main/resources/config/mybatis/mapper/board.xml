<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="b">
	<select id="selectList" resultType="vo.BoardVO">
		SELECT b3.* FROM (SELECT
		b2.*, u.U_NICKNAME FROM (SELECT b.*,RANK()
		OVER(ORDER BY b.B_IDX ASC)
		AS "RANK" FROM BOARD b) b2 LEFT JOIN
		USERINFO u ON b2.U_IDX = u.U_IDX)
		b3
		WHERE "RANK" BETWEEN 1 AND 10
	</select>

	<insert id="boardInsert" parameterType="vo.BoardVO">
		INSERT INTO BOARD
		VALUES(SEQ_BOARD.NEXTVAL,#{u_idx},#{point},#{title},#{content},#{filename, jdbcType=VARCHAR},SYSDATE,0,0)
	</insert>
</mapper>
